Models
===========================
# General Information #

The ID Column for fast growing models is a Universally Unique Identifier (UUID).
It is generated by the App, not the database during before_create.

# Users #

Fields: email, username, user_node 

Users may have multiple identities.
Users can vouch for themselves and other users or other identities.
Self vouches will NOT be recorded in the graph database.
Vouches to and from others will be recorded in the graph database.

On Registration:
1.  an identity is created from the email if it does not exist.
2.  a node in the graph database is created to represent this user.

# Identities #

Fields: user_id, email, provider_id, filename.

Identities belong to 1 user at a time, the user may change.
On creation, they send an e-mail confirmation and create an image. 
Currently only e-mail, but will have twitter/facebook/linked-in/etc identities.
Searchable by email and vouches_requested.

# Identity Image #

To avoid displaying e-mails in plain text, an image of the email is created and stored on disk.

# Vouches #

Polymorphic.
Fields:  requester_id, requester_type, grantor_id, grantor_type, term, status_id
Joins a requester and grantor (which may be Users or Identities) with a term and status.
Can only have 1 per term/requestor/grantor combination (no multiple statuses).
Not keeping state.

# Term #

Fields: name
Must be unique, used for autocomplete. 
Will be preloaded with seed content.
Cannot be modified directly, created when new Vouch uses unknown term.
Probably want to create blacklist.

# Helper Models #

Data set in Rails.env_seed.sql, see lib/tasks/dumpload.rake
rake db:seed:load - to load from file
rake db:seed:dump - to dump to file
Should separate this into individual table dumps.


City, Region and Country models to help with user selected location.
Data comes from maxmind.com GeoLite City ( http://www.maxmind.com/app/geolitecity )
Easy to integrate ip to city lookup (code available from previous project)

# City #

Fields: name
Belongs to Region, Country

# Region #

Fields: name, code
Belongs to Country
Has Many Cities

# Country #

Fields: shortname, fullname, code
Has Many Cities, Regions

# Company #

Fields: name, website, phone, address, city, state, zip, country
Belongs to industry, sub-industry, country, region, city

The data comes from http://www.jigsaw.com 

# Industry #

Fields: name (unique)

Has Many SubIndustries

# SubIndustry #

Fields: name (unique)

Belongs to Industry


# Misc Models #

# Windows Live #

Used to import Windows Live (Hotmail) contacts.


# Consumer Token #

Used in import of Google and Yahoo contacts.